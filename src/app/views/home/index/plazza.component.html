<div class="plazza-wrapper display-flex flex-column p-50">
    <section class="display-flex flex-column" [class.my-100]="i > 0 && i < dataList.length - 1" [class.mb-100]="i === 0"
        [class.mt-100]="i === dataList.length - 1" *ngFor="let model of dataList, index as i">
        <app-widgets-item-holder *ngIf="model.metadata === undefined"></app-widgets-item-holder>
        <div class="section-head display-grid gx-100" *ngIf="model.metadata !== undefined">
            <span class="avatar mat-elevation-z4 border-radius-circle bg-pshare align-self-center p-25"
                [style.grid-row]="'1 / 3'">
                <img class="" [src]="model.metadata.icon" alt="" width="100%" height="100%">
            </span>
            <h1 class="font-size-16 my-0" [style.grid-row]="'1 / 2'">{{model.metadata.name}}</h1>
            <p class="font-size-10 display-flex justify-content-space-between my-0" [style.grid-row]="'2 / 3'">
                <span>Subscriptions: {{model.metadata.subscription | count}}</span>
                <span>Subscribed: {{model.metadata.subscribed | count}}</span>
            </p>
            <button mat-raised-button color="primary" [style.grid-row]="'1 / 3'">
                <mat-icon class="mr-25">notifications</mat-icon>
                Subscribe
            </button>
        </div>
        <mat-divider class="my-100"></mat-divider>
        <div class="section-body display-grid g-50 mb-25">
            <mat-card class="mat-elevation-z0 p-50">
                <app-widgets-block-holder class="h-100"></app-widgets-block-holder>
            </mat-card>
            <mat-card class="mat-elevation-z0 p-50">
                <app-widgets-block-holder class="h-100"></app-widgets-block-holder>
            </mat-card>
            <mat-card class="mat-elevation-z0 p-50">
                <app-widgets-block-holder class="h-100"></app-widgets-block-holder>
            </mat-card>
            <mat-card class="mat-elevation-z0 p-50">
                <app-widgets-block-holder class="h-100"></app-widgets-block-holder>
            </mat-card>
            <mat-card class="mat-elevation-z0 p-50" [style.grid-column]="'3 / 3'" [style.grid-row]="'1 / 3'">
                <mat-nav-list class="message scroll-share h-100 p-0">
                    <h1 matSubheader>Message Update</h1>
                    <ng-container *ngFor="let message of model.messages">
                        <a mat-list-item class="rank-item" [routerLink]="['/']" *ngIf="message !== undefined">
                            <h1 class="font-size-12 font-weight-bold my-0" matLine>{{message.subject}}</h1>
                            <p class="font-size-10 my-0 my-25" matLine>{{message.datetime | date: 'yyy-MM-dd'}}</p>
                        </a>
                        <mat-list-item class="rank-item" *ngIf="message === undefined">
                            <app-widgets-item-holder></app-widgets-item-holder>
                        </mat-list-item>
                    </ng-container>
                </mat-nav-list>
            </mat-card>
        </div>
        <div class="section-foot display-grid g-50 mt-25">
            <mat-card class="mat-elevation-z0 p-50" [style.height]="'240px'" *ngFor="let data of model.dataset">
                <app-widgets-block-holder class="h-100"></app-widgets-block-holder>
            </mat-card>
        </div>
    </section>
</div>