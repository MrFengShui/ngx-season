@use "sass:map";
@use "accordion.theme" as accordion;
@use "badge.theme" as badge;
@use "button.theme" as button;
@use "card.theme" as card;
@use "carousel.theme" as carousel;
@use "check.theme" as check;
@use "effects.theme" as effects;
@use "express.theme" as express;
@use "form.theme" as form;
@use "image.theme" as image;
@use "label.theme" as label;
@use "matrix.theme" as matrix;
@use "menu.theme" as menu;
@use "overlay.theme" as overlay;
@use "paginator.theme" as paginator;
@use "progress.theme" as progress;
@use "radio.theme" as radio;
@use "sidenav.theme" as sidenav;
@use "stepper.theme" as stepper;
@use "tabs.theme" as tabs;
@use "table.theme" as table;
@use "toolbar.theme" as toolbar;

@mixin octopus-renderer-theme($theme) {
    $primary: map.get($theme, "primary");
    $accent: map.get($theme, "accent");
    $success: map.get($theme, "success");
    $warning: map.get($theme, "warning");
    $failure: map.get($theme, "failure");
    $foreground: map.get($theme, "foreground");
    $background: map.get($theme, "background");

    $colors: (
        "primary": $primary, "accent": $accent,
        "success": $success, "warning": $warning, "failure": $failure,
    );

    * {
        text-decoration-color: map.get($background, "base");
    }

    body {
        background-color: map.get($background, "base");
        color: map.get($foreground, "base");
    }

    @each $key, $value in $colors {
        .octo-active-#{$key},
        .octo-bg-#{$key} {
            background-color: $value !important;
        }
    }

    @include accordion.mixin-accordion-theme($colors, $foreground, $background);
    @include badge.mixin-badge-theme($colors, $foreground, $background);
    @include button.mixin-button-theme($colors, $foreground, $background);
    @include card.mixin-card-theme($colors, $foreground, $background);
    @include carousel.mixin-carousel-theme($colors, $foreground, $background);
    @include check.mixin-check-theme($colors, $foreground, $background);
    @include effects.mixin-effects-theme($colors, $foreground, $background);
    @include express.mixin-express-theme($colors, $foreground, $background);
    @include form.mixin-form-theme($colors, $foreground, $background);
    @include image.mixin-image-theme($colors, $foreground, $background);
    @include label.mixin-label-theme($colors, $foreground, $background);
    @include matrix.mixin-matrix-theme($colors, $foreground, $background);
    @include menu.mixin-menu-theme($colors, $foreground, $background);
    @include overlay.mixin-overlay-theme($colors, $foreground, $background);
    @include paginator.mixin-paginator-theme($colors, $foreground, $background);
    @include progress.mixin-progress-theme($colors, $foreground, $background);
    @include radio.mixin-radio-theme($colors, $foreground, $background);
    @include sidenav.mixin-sidenav-theme($colors, $foreground, $background);
    @include stepper.mixin-stepper-theme($colors, $foreground, $background);
    @include tabs.mixin-tabs-theme($colors, $foreground, $background);
    @include table.mixin-table-theme($colors, $foreground, $background);
    @include toolbar.mixin-toolbar-theme($colors, $foreground, $background);

    .octo-holder {
        &.holder,
        .holder {
            background-color: gray;
        }
    }

    .octo-split-line {
        .line {
            border-color: map.get($foreground, "base");
        }
    }

    a.octo-queue-item {
        background-color: map.get($background, "queue");
        color: map.get($foreground, "queue");
    }

    .octo-status {
        background-color: map.get($background, "card");
        color: map.get($foreground, "card");

        img {
            filter: drop-shadow(0 0 0.25rem black);
        }
    }
}
